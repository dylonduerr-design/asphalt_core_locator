services:
  - type: web
    name: asphalt-core-locator
    env: docker
    plan: starter
    autoDeploy: true
    healthCheckPath: /up

    envVars:
      # Set this in the Render dashboard from your local config/master.key.
      - key: RAILS_MASTER_KEY
        sync: false

      # These are also set in the Dockerfile, but keeping them here makes
      # the Render configuration explicit.
      - key: RAILS_LOG_TO_STDOUT
        value: "1"
      - key: RAILS_SERVE_STATIC_FILES
        value: "1"

      # If you provision the database from this blueprint, Render will inject
      # a connection string here.
      - key: DATABASE_URL
        fromDatabase:
          name: asphalt-core-locator-db
          property: connectionString

databases:
  - name: asphalt-core-locator-db
    plan: basic-256mb
