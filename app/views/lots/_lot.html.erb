<% color_classes = lot.mix_color_classes %>
<div id="<%= dom_id lot %>" class="bg-white shadow rounded-lg p-6 border-l-4 <%= color_classes[:border] %> flex flex-col justify-between hover:shadow-md transition-shadow duration-200">
  <div>
    <div class="flex flex-row justify-between items-start gap-2 mb-3">
      <h2 class="text-xl font-bold text-gray-900 truncate" title="<%= lot.lot_number %>">Lot #<%= lot.lot_number %></h2>
      <% if lot.mix_type.present? %>
        <span class="inline-flex items-center px-2 py-1 rounded-full text-xs font-medium <%= color_classes[:badge] %> whitespace-nowrap">
          <%= lot.mix_type %>
        </span>
      <% end %>
    </div>
    
    <% if lot.plant.present? %>
      <div class="mb-3">
        <span class="inline-flex items-center px-2 py-1 text-xs font-medium text-gray-700 bg-gray-100 rounded">
          <%= lot.plant %>
        </span>
      </div>
    <% end %>
     
    <div class="text-sm text-gray-600 space-y-3">
      <div>
        <span class="block text-xs font-semibold text-gray-500 uppercase tracking-wider mb-1">Contractor</span>
        <span class="block text-gray-900"><%= lot.contractor.presence || "-" %></span>
      </div>
      <div>
        <span class="block text-xs font-semibold text-gray-500 uppercase tracking-wider mb-1">Mix Design</span>
        <span class="block text-gray-900"><%= lot.mix_design.presence || "-" %></span>
      </div>
      <div>
        <span class="block text-xs font-semibold text-gray-500 uppercase tracking-wider mb-1">Paving Date</span>
        <span class="block text-gray-900"><%= lot.paving_date ? lot.paving_date.strftime("%b %d, %Y") : "-" %></span>
      </div>
      <div>
        <span class="block text-xs font-semibold text-gray-500 uppercase tracking-wider mb-1">Sublots</span>
        <span class="block text-gray-900"><%= lot.sublots.count %></span>
      </div>
    </div>
  </div>
  <div class="mt-6 pt-4 border-t border-gray-100 flex flex-row justify-between items-center"> 
    <span class="text-xs text-gray-400">Created <%= time_ago_in_words(lot.created_at) %> ago</span>
    <%= link_to "View Details â†’", lot, class: "#{color_classes[:text]} hover:opacity-80 font-medium text-sm" %>
  </div>
</div>
